'use client';

import React from 'react';

interface DatesFieldProps {
  dateFrom: string | null;
  dateTo: string | null;
}

export default function DatesField({ dateFrom, dateTo }: DatesFieldProps) {
  // pattern: 'dateFrom(dd.MM)-dateTo(dd.MM.yy)'
  function formatDateFromTo(from: string | null, to: string | null): string {
    if (!from || !to) return '';
    // dateFrom: YYYY-MM-DD, dateTo: YYYY-MM-DD
    // Want: DD.MM-DD.MM.YY
    const [fromYear, fromMonth, fromDay] = from.split('-');
    const [toYear, toMonth, toDay] = to.split('-');
    const fromStr = `${fromDay}.${fromMonth}`;
    const toStr = `${toDay}.${toMonth}.${toYear.slice(-2)}`;
    return `${fromStr}-${toStr}`;
  }

  const dateFromDateTo = formatDateFromTo(dateFrom, dateTo);

  if (!dateFromDateTo) return null;

  return (
    <div className="rounded-md bg-gray-100 p-3 flex flex-col gap-1 items-center">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path 
          fillRule="evenodd" 
          clipRule="evenodd"
          d="M7.76465 2.1001C8.26171 2.1001 8.66465 2.50304 8.66465 3.0001V3.90316C8.9513 3.89982 9.25932 3.89993 9.59251 3.90005C9.65597 3.90007 9.72035 3.9001 9.78566 3.9001H15.3352V3.0001C15.3352 2.50304 15.7382 2.1001 16.2352 2.1001C16.7323 2.1001 17.1352 2.50304 17.1352 3.0001V3.98685C19.2808 4.40623 20.8999 6.29644 20.8999 8.56481V14.639C20.9 15.7261 20.9 16.5968 20.8425 17.3006C20.7834 18.0232 20.6593 18.6488 20.3659 19.2246C19.8961 20.1466 19.1465 20.8962 18.2245 21.366C17.6487 21.6594 17.0231 21.7836 16.3004 21.8426C15.5967 21.9001 14.726 21.9001 13.6389 21.9001H10.361C9.27392 21.9001 8.40324 21.9001 7.69946 21.8426C6.9768 21.7836 6.35124 21.6594 5.77539 21.366C4.8534 20.8962 4.10379 20.1466 3.63401 19.2246C3.34061 18.6488 3.21647 18.0232 3.15743 17.3006C3.09993 16.5968 3.09994 15.7261 3.09994 14.639L3.09994 10.5858C3.09994 10.5205 3.09992 10.4561 3.0999 10.3927C3.09936 8.91686 3.099 7.93473 3.39807 7.11702C3.89374 5.76176 4.96161 4.69389 6.31687 4.19822C6.49095 4.13455 6.67249 4.08446 6.86465 4.04504V3.0001C6.86465 2.50304 7.26759 2.1001 7.76465 2.1001ZM6.86465 5.91546C6.04076 6.23968 5.3935 6.90152 5.08855 7.7353C4.94787 8.11996 4.91147 8.6038 4.90262 9.68581H19.0999V8.56481C19.0999 7.29707 18.2765 6.22167 17.1352 5.84433V6.6001C17.1352 7.09715 16.7323 7.5001 16.2352 7.5001C15.7382 7.5001 15.3352 7.09715 15.3352 6.6001V5.7001H9.78566C9.34649 5.7001 8.97794 5.70098 8.66465 5.70509V6.6001C8.66465 7.09715 8.26171 7.5001 7.76465 7.5001C7.26759 7.5001 6.86465 7.09715 6.86465 6.6001V5.91546ZM19.0999 11.4858H4.89994V14.6001C4.89994 15.7351 4.90064 16.5321 4.95145 17.154C5.0014 17.7654 5.09526 18.1277 5.23782 18.4075C5.53503 18.9908 6.00927 19.465 6.59257 19.7622C6.87238 19.9048 7.23469 19.9986 7.84604 20.0486C8.4679 20.0994 9.26499 20.1001 10.3999 20.1001H13.5999C14.7349 20.1001 15.532 20.0994 16.1538 20.0486C16.7652 19.9986 17.1275 19.9048 17.4073 19.7622C17.9906 19.465 18.4649 18.9908 18.7621 18.4075C18.9046 18.1277 18.9985 17.7654 19.0484 17.154C19.0992 16.5321 19.0999 15.7351 19.0999 14.6001V11.4858Z"
          fill="black" 
          fillOpacity="0.8"
        />
      </svg>
      <div className="text-sm font-bold text-black text-center">{dateFromDateTo}</div>
    </div>
  );
}

